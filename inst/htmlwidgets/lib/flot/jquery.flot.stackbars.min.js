(function(b){var a={series:{stack_neg:null}};function c(g){var e={};var d={};function f(o,k,n){var h;var j=o.getData();var m=true;for(h=0;h<j.length;h++){if(!j[h].bars.show&&(j[h].lines&&j[h].lines.show)){if(j[h].stack_neg){m=false;break}}}if(k.stack_neg==null||!m||!k.bars.show){return}var l=[];for(h=0;h<n.points.length;h+=n.pointsize){if(!e[n.points[h]]){e[n.points[h]]=0}if(!d[n.points[h]]){d[n.points[h]]=0}l[h]=n.points[h];if(n.points[h+1]>0){l[h+1]=n.points[h+1]+e[n.points[h]];l[h+2]=e[n.points[h]];e[n.points[h]]+=n.points[h+1]}else{l[h+1]=n.points[h+1]+d[n.points[h]];l[h+2]=d[n.points[h]];d[n.points[h]]+=n.points[h+1]}}n.points=l}g.hooks.processDatapoints.push(f)}b.plot.plugins.push({init:c,options:a,name:"stackbars",version:"1.0"})})(jQuery);